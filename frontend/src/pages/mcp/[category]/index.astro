---
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const categoryEntries = await getCollection('mcpCategoryData');
  
  return categoryEntries.map(entry => ({
    params: { category: entry.data.category }
  }));
}

// Redirect to page 1 of the category
const { category } = Astro.params;

if (!category) {
  throw new Error('Category parameter is required');
}

// Redirect to the first page
return Astro.redirect(`/freedevtools/mcp/${category}/1/`);
---
